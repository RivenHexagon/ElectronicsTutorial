# Lecture L25-10

## Recap
### AC Voltage
![AC Voltae Capture](./assets/AC-Voltage-Capture.png)

An AC voltage is a constantly changing voltage that **oscillates** between a positiv and negative **maximum** voltage $\hat{U}$ (pronounced *U hat*). But if we talk about an AC voltage of $U$, the **nominal** voltage $U$ does **not** indicate the **maximum** $\hat{U}$. The true relation is 

```math
\hat{U} = U \cdot \sqrt{2}
```

So that for e.g. $U = 230\text{ }V$ truely oscillates between $\hat{U} =  230\text{ }V\cdot \sqrt{2} = 325\text{ }V$. And that is exactly the case for every electrical outlet in Europe. The voltage oscillates with a *frequency* of $f = 50\text{ }Hz$. That means we have 50 maxima, 50 minima and 100 *zero crossings* per **second**.

The factor $\sqrt{2}$ stems from the **sinusodial** time depending wave form of the voltages in our power grid. This is due to the **rotaing** electrical generators in our power plants.

```math
u(t) = \hat{U} \cdot \sin(\omega t) = \hat{U} \cdot \sin(2 \pi f\cdot t)
```

But why doesn't the nominal AC voltage indicate the maximum voltage? If we connect a resistor to a DC voltage source, the source voltage causes a current flow through the resistor and that current causes a voltage drop across the resistor. There, electrical energy is converted into heat and dissipated as $P = U_{R}\cdot I_{R}$.

* AC on resistor leads to pulsating power.
* Temperature of resistor appears to be constant (in equilibrium)
* This happens to be the case in a DC circuit (in equilibrium)
* **Nominal AC voltage** creates the **same average power** as the **same DC voltage**

### Remeber our Toolbox
* **Chain of causality**:
  * **Source Voltage** drives a **current** through the circuit, the current causes **voltage drops** across the circuit elements.
* **Kirchoff Voltage Law KVL**:
  * The sum of all (serial) voltage drops equals the source voltage
  * The sum of all voltages in a loop are zero.
* **Ohm's Law**:
  * The voltage across a resistor equals the currend through it times the resistance.
  * $U = R\cdot I$
* **Electrical Power**:
  * The power consumption (heat dissipation) of an electrical component equals the voltage acros it times the current through it
   * $P = U\cdot I$
* **Kirchhoff Current Law KCL**:
  * The current **entering** an electrical **node** equals the currents **leaving** the node.

### Driving an LED
*1a)* From a $5\text{ }V$ digital output pin we try to drive an LED by starting with an $1\text{ }k\Omega$ Resistor. If the LED appears too dark, we reduce the Resistor in steps to a minimum resistance of $220\text{ }\Omega$.

*1b)* How do we know what current the LED draws with our selected resistor? Remember our Toolbox.

*1c)* Make a calculation for $U_s = 5\text{ }V$ and $I_{LED} = 8\text{ }mA$. Estimate the the LED forward voltage $U_{LED}$.

## Driving an LED with a Transistor
![ACDC](./assets/L25-10-Q1.png)

### Current Limiting Resistor
The current of the LED shall not exeed limit of $I_{max} = 10\text{ }mA$. For this case we assume that the voltage drop across the transistor $Q1$ drops to $U_{Q1} = 0\text{ }V$. Q1 could be driven into *saturation* or simply malfunction and *short*. We simply assume the worst case.

```math
R_{\text{LED}} = \frac{U_{S}}{I_{\text{max}}} = \frac{9\text{ }V}{10\text{ }mA} = 900\text{ }\Omega \rightarrow 1\text{ }k\Omega
```

* I_LED = I_B * B
* I_B = I_LED / B = 5 mA / 500 = 10 uA 
* R_B = (U_SB - U_B) / I_B = (5 V - 0.7 V) / 10 uA = 470 k

![ACDC](./assets/L25-10-simpleQ.png)

```
$ 1 0.000005 10.20027730826997 50 5 43 5e-11
t 160 224 208 224 0 1 -1.5711478260351517 0.6375646059181389 500 default
r 160 224 80 224 0 430000
162 208 144 208 208 2 default-led 1 0 0 0.01
w 208 240 208 288 0
g 208 288 208 320 0 0
v 80 288 80 224 0 0 40 5 0 0 0.5
g 80 288 80 320 0 0
v 0 288 0 64 0 0 40 9 0 0 0.5
g 0 288 0 320 0 0
w 0 64 208 64 0
r 208 64 208 144 0 1000
```

## Momentary Voltages in the single diode rectifier circuit
![ACDC](./assets/L25-10-chargPhase.png)
![ACDC](./assets/L25-10-DischargPhase.png)